<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
  <script src="http://d3plus.org/js/d3.js"></script>
  <script src="http://d3plus.org/js/d3plus.js"></script>
 <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
</head>

<body>

  <div id="scatter"></div>

  <script>
    //baseado em http://d3plus.org/examples/advanced/a9a9ada6101818be4fdc/

var json = (function () {
        var json = null;
        $.ajax({
            'async': false,
            'global': false,
            'url': 'https://raw.githubusercontent.com/voltdatalab/passaralhos/gh-pages/_data/jornalistas.json',
            'dataType': "json",
            'success': function (data) {
                json = data;
            }
        });
        return json;
    })
    ();

  var visualization = d3plus.viz()
    .container("#scatter")
    .data(json)
    .type("scatter")
    .id("veiculo")
    .x({"value": "jornalistas", "label": "Jornalistas Demitidos"})
    //.x("jornalistas")
    .time({"value": "mes"})
    //.margin(50)
    //.y("mes")
    .y({"value": "mes", "label": "Período"})
    .size("jornalistas")
    .color({"heatmap": ['#9ecae1','#6baed6','#4292c6','#2171b5','#08519c'], "value": "jornalistas"})
    .legend(false)
    .format("pt_BR")
    .font({"family": "Inconsolata", "size": 10})
    .ui([
      {
        "method" : "size",
        "label": "Tamano do círculo por:",
        "type": "button",
        "value": ["jornalistas", "total"]
      },
    ])
    .draw()
  </script>

</body>
